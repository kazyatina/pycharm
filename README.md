# Проект HomeWork
___

## Описание
___
Проект на Python по разработке виджета, который показывает несколько последних успешных банковских операций клиента

## Установка
___
Для установки необходимо установить зависимости Poetry из файла pyproject.toml

## Функции
___
### В проекте реализованы следующие функции:
1. Функция get_mask_card_number принимает на вход номер карты в виде
    числа и возвращает маску номера по правилу
    XXXX XX** **** XXXX.
2. Функция get_mask_account принимает на вход номер счета и возвращает его маску.
    Номер счета замаскирован и отображается в формате **XXXX.
3. Функция mask_account_card обрабатывает информацию о картах и счетах, и выводит маскировку.
4. Функция get_date возвращает дату в формате ДД.ММ.ГГ.
5. Функция filter_by_state возвращает новый список словарей, содержащий только те словари,
    у которых ключ state соответствует указанному значению
6. Функция sort_by_date возвращает новый список, отсортированный по дате
5. Функция filter_by_currency принимает на вход список словарей, представляющих транзакции.
    Возвращает итератор, который поочередно выдает транзакции, где валюта операции
    соответствует заданной (например, USD).
6. Функция fin_trans принимает на вход путь до JSON-файла и возвращает список словарей с данными
    о финансовых транзакциях. Если файл пустой, содержит не список или не найден,
    функция возвращает пустой список.
7. Функция get_rub_amount возвращает сумму транзакции в рублях (float).
    Если валюта USD или EUR, конвертирует через API

## Генераторы
___
### В проекте реализованы следующие генераторы функций:
1. Генератор transaction_descriptions, который принимает список словарей с транзакциями и возвращает описание каждой операции
    по очереди.
2. Генератор card_number_generator, который возвращает номера карт в диапазоне [start, stop].
___
## Декораторы
___
### В проекте реализованы следующие декораторы функций:
1. Декоратор log для логирования информации о вызовах функций.
    Возвращает обертку, которая записывает имя функции, результат её выполнения,
    время выполнения и информацию об ошибках, если они возникают.


## Тесты
Проект включает набор тестов для проверки корректности работы.
### Запуск тестов
Для запуска тестов установите:
```
pytest
```
### Структура тестов
Тесты расположены в директории `tests/` и включают проверки для:
* основных функций
* граничных случаев
* обработки ошибок
### Требования
Для запуска тестов необходимы:
```
pytest
pytest-cov
```
### Покрытие тестами
Для проверки покрытия используйте:
```
pytest --cov
```
Для создания html-отчета используйте:
```
pytest --cov=src --cov-report=html
```
## Документация:
Для получения дополнительной информации обратитесь к [документации](README.md).
## Лицензия:
Этот проект лицензирован по [лицензии MIT](LICENSE).